<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ibms.app.dao.CecAlarmHistoryMapper" >
  <resultMap id="BaseResultMap" type="com.ibms.app.beans.CecAlarmHistory" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="ALARM_TIME" property="alarmTime" jdbcType="TIMESTAMP" />
    <result column="COM_CODE" property="comCode" jdbcType="VARCHAR" />
    <result column="DEV_CODE" property="devCode" jdbcType="VARCHAR" />
    <result column="INF_CODE" property="infCode" jdbcType="VARCHAR" />
    <result column="VALUE" property="value" jdbcType="VARCHAR" />
    <result column="LEVEL_CODE" property="levelCode" jdbcType="VARCHAR" />
    <result column="ALARM_DESC" property="alarmDesc" jdbcType="VARCHAR" />
    <result column="PROCESS" property="process" jdbcType="VARCHAR" />
    <result column="FLOOR" property="floor" jdbcType="VARCHAR" />
    <result column="LOCATION" property="location" jdbcType="VARCHAR" />
    <result column="ALARM_POINT" property="alarmPoint" jdbcType="VARCHAR" />
    <result column="END_ALARM_TIME" property="endAlarmTime" jdbcType="TIMESTAMP" />
    <result column="PERSIST_TIME" property="persistTime" jdbcType="VARCHAR" />
    <result column="CLASSIFY_CODE" property="classifyCode" jdbcType="VARCHAR" />
  </resultMap>
  <insert id="insert" parameterType="com.ibms.app.beans.CecAlarmHistory" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into CEC_ALARM_HISTORY (ALARM_TIME, COM_CODE, DEV_CODE, 
      INF_CODE, VALUE, LEVEL_CODE, 
      ALARM_DESC, PROCESS, FLOOR, 
      LOCATION, ALARM_POINT, END_ALARM_TIME, 
      PERSIST_TIME, CLASSIFY_CODE)
    values (#{alarmTime,jdbcType=TIMESTAMP}, #{comCode,jdbcType=VARCHAR}, #{devCode,jdbcType=VARCHAR}, 
      #{infCode,jdbcType=VARCHAR}, #{value,jdbcType=VARCHAR}, #{levelCode,jdbcType=VARCHAR}, 
      #{alarmDesc,jdbcType=VARCHAR}, #{process,jdbcType=VARCHAR}, #{floor,jdbcType=VARCHAR}, 
      #{location,jdbcType=VARCHAR}, #{alarmPoint,jdbcType=VARCHAR}, #{endAlarmTime,jdbcType=TIMESTAMP}, 
      #{persistTime,jdbcType=VARCHAR}, #{classifyCode,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.ibms.app.beans.CecAlarmHistory" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into CEC_ALARM_HISTORY
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="alarmTime != null" >
        ALARM_TIME,
      </if>
      <if test="comCode != null" >
        COM_CODE,
      </if>
      <if test="devCode != null" >
        DEV_CODE,
      </if>
      <if test="infCode != null" >
        INF_CODE,
      </if>
      <if test="value != null" >
        VALUE,
      </if>
      <if test="levelCode != null" >
        LEVEL_CODE,
      </if>
      <if test="alarmDesc != null" >
        ALARM_DESC,
      </if>
      <if test="process != null" >
        PROCESS,
      </if>
      <if test="floor != null" >
        FLOOR,
      </if>
      <if test="location != null" >
        LOCATION,
      </if>
      <if test="alarmPoint != null" >
        ALARM_POINT,
      </if>
      <if test="endAlarmTime != null" >
        END_ALARM_TIME,
      </if>
      <if test="persistTime != null" >
        PERSIST_TIME,
      </if>
      <if test="classifyCode != null" >
        CLASSIFY_CODE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="alarmTime != null" >
        #{alarmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="comCode != null" >
        #{comCode,jdbcType=VARCHAR},
      </if>
      <if test="devCode != null" >
        #{devCode,jdbcType=VARCHAR},
      </if>
      <if test="infCode != null" >
        #{infCode,jdbcType=VARCHAR},
      </if>
      <if test="value != null" >
        #{value,jdbcType=VARCHAR},
      </if>
      <if test="levelCode != null" >
        #{levelCode,jdbcType=VARCHAR},
      </if>
      <if test="alarmDesc != null" >
        #{alarmDesc,jdbcType=VARCHAR},
      </if>
      <if test="process != null" >
        #{process,jdbcType=VARCHAR},
      </if>
      <if test="floor != null" >
        #{floor,jdbcType=VARCHAR},
      </if>
      <if test="location != null" >
        #{location,jdbcType=VARCHAR},
      </if>
      <if test="alarmPoint != null" >
        #{alarmPoint,jdbcType=VARCHAR},
      </if>
      <if test="endAlarmTime != null" >
        #{endAlarmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="persistTime != null" >
        #{persistTime,jdbcType=VARCHAR},
      </if>
      <if test="classifyCode != null" >
        #{classifyCode,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>

  <select id="selectByBean" parameterType="com.ibms.app.beans.CecAlarmHistory" resultMap="BaseResultMap">
    SELECT * FROM CEC_ALARM_HISTORY
    <where>
      ALARM_TIME > DATEADD(ss,-300,GETDATE())
      and PROCESS is null
      <if test="comCode != null" >
        and com_code = #{comCode,jdbcType=VARCHAR}
      </if>
      <if test="devCode != null" >
        and dev_code = #{devCode,jdbcType=VARCHAR}
      </if>
      <if test="infCode != null" >
        and inf_code = #{infCode,jdbcType=VARCHAR}
      </if>
      <if test="value != null" >
        and value = #{value,jdbcType=VARCHAR}
      </if>
      <if test="levelCode != null" >
        and level_code = #{levelCode,jdbcType=VARCHAR}
      </if>
      <if test="process != null" >
        and process = #{process,jdbcType=VARCHAR}
      </if>
      <if test="floor != null" >
        and floor =  #{floor,jdbcType=VARCHAR}
      </if>
      <if test="location != null" >
        and location = #{location,jdbcType=VARCHAR}
      </if>
      <if test="alarmPoint != null" >
        and alarm_point = #{alarmPoint,jdbcType=VARCHAR}
      </if>
      <if test="endAlarmTime != null" >
        and end_alarm_time = #{endAlarmTime,jdbcType=TIMESTAMP}
      </if>
      <if test="persistTime != null" >
        and persist_time = #{persistTime,jdbcType=VARCHAR}
      </if>
      <if test="classifyCode != null" >
        and classify_code = #{classifyCode,jdbcType=VARCHAR}
      </if>
    </where>
  </select>

</mapper>